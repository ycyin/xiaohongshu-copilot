<script setup>
import { ref } from 'vue'

const emit = defineEmits(['add-template'])

// Template categories with beautiful, styled templates
const categories = ref([
  {
    name: 'Ë°®Ê†º',
    icon: 'üìä',
    templates: [
      {
        id: 'table-elegant-2x2',
        name: 'Á≤æÁæéÂõõÊ†º',
        preview: 'ÂõõÊ†º',
        elements: [
          // Title
          { type: 'text', text: 'ÂõõÂ§ßË¶ÅÁÇπ', x: 375, y: 100, fontSize: 42, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 500 },
          // Decorative line under title
          { type: 'line', x: 375, y: 135, width: 200, height: 3, color: '#3498db' },

          // Top-left box
          { type: 'rectangle', x: 200, y: 250, width: 280, height: 200, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 15 },
          { type: 'text', text: '01', x: 200, y: 200, fontSize: 48, fontWeight: 'bold', color: '#3498db', align: 'center', width: 100 },
          { type: 'text', text: 'Á¨¨‰∏ÄÁÇπÊ†áÈ¢ò', x: 200, y: 250, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 250 },
          { type: 'text', text: 'ËØ¶ÁªÜÊèèËø∞ÂÜÖÂÆπ', x: 200, y: 300, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'center', width: 250 },

          // Top-right box
          { type: 'rectangle', x: 550, y: 250, width: 280, height: 200, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 15 },
          { type: 'text', text: '02', x: 550, y: 200, fontSize: 48, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 100 },
          { type: 'text', text: 'Á¨¨‰∫åÁÇπÊ†áÈ¢ò', x: 550, y: 250, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 250 },
          { type: 'text', text: 'ËØ¶ÁªÜÊèèËø∞ÂÜÖÂÆπ', x: 550, y: 300, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'center', width: 250 },

          // Bottom-left box
          { type: 'rectangle', x: 200, y: 520, width: 280, height: 200, backgroundColor: '#ebfaf5', border: '3px solid #2ecc71', borderRadius: 15 },
          { type: 'text', text: '03', x: 200, y: 470, fontSize: 48, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 100 },
          { type: 'text', text: 'Á¨¨‰∏âÁÇπÊ†áÈ¢ò', x: 200, y: 520, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 250 },
          { type: 'text', text: 'ËØ¶ÁªÜÊèèËø∞ÂÜÖÂÆπ', x: 200, y: 570, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'center', width: 250 },

          // Bottom-right box
          { type: 'rectangle', x: 550, y: 520, width: 280, height: 200, backgroundColor: '#fdeef4', border: '3px solid #e74c3c', borderRadius: 15 },
          { type: 'text', text: '04', x: 550, y: 470, fontSize: 48, fontWeight: 'bold', color: '#e74c3c', align: 'center', width: 100 },
          { type: 'text', text: 'Á¨¨ÂõõÁÇπÊ†áÈ¢ò', x: 550, y: 520, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 250 },
          { type: 'text', text: 'ËØ¶ÁªÜÊèèËø∞ÂÜÖÂÆπ', x: 550, y: 570, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'center', width: 250 },
        ]
      },
      {
        id: 'table-timeline',
        name: 'Êó∂Èó¥ËΩ¥Ê∏ÖÂçï',
        preview: 'Êó∂Èó¥',
        elements: [
          // Title
          { type: 'text', text: '‰ªªÂä°Ê∏ÖÂçï', x: 375, y: 100, fontSize: 42, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 500 },

          // Vertical timeline
          { type: 'line', x: 150, y: 400, width: 4, height: 500, color: '#bdc3c7' },

          // Item 1
          { type: 'circle', x: 150, y: 220, size: 24, backgroundColor: '#3498db', border: '4px solid #3498db' },
          { type: 'rectangle', x: 400, y: 220, width: 450, height: 90, backgroundColor: '#ffffff', border: '2px solid #3498db', borderRadius: 12 },
          { type: 'text', text: '‚úì Á¨¨‰∏ÄÈ°π‰ªªÂä°', x: 380, y: 210, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: '‰ªªÂä°ËØ¶ÁªÜËØ¥Êòé', x: 380, y: 240, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 400 },

          // Item 2
          { type: 'circle', x: 150, y: 350, size: 24, backgroundColor: '#2ecc71', border: '4px solid #2ecc71' },
          { type: 'rectangle', x: 400, y: 350, width: 450, height: 90, backgroundColor: '#ffffff', border: '2px solid #2ecc71', borderRadius: 12 },
          { type: 'text', text: '‚úì Á¨¨‰∫åÈ°π‰ªªÂä°', x: 380, y: 340, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: '‰ªªÂä°ËØ¶ÁªÜËØ¥Êòé', x: 380, y: 370, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 400 },

          // Item 3
          { type: 'circle', x: 150, y: 480, size: 24, backgroundColor: '#f39c12', border: '4px solid #f39c12' },
          { type: 'rectangle', x: 400, y: 480, width: 450, height: 90, backgroundColor: '#ffffff', border: '2px solid #f39c12', borderRadius: 12 },
          { type: 'text', text: '‚úì Á¨¨‰∏âÈ°π‰ªªÂä°', x: 380, y: 470, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: '‰ªªÂä°ËØ¶ÁªÜËØ¥Êòé', x: 380, y: 500, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 400 },

          // Item 4
          { type: 'circle', x: 150, y: 610, size: 24, backgroundColor: '#e74c3c', border: '4px solid #e74c3c' },
          { type: 'rectangle', x: 400, y: 610, width: 450, height: 90, backgroundColor: '#ffffff', border: '2px solid #e74c3c', borderRadius: 12 },
          { type: 'text', text: '‚úì Á¨¨ÂõõÈ°π‰ªªÂä°', x: 380, y: 600, fontSize: 24, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: '‰ªªÂä°ËØ¶ÁªÜËØ¥Êòé', x: 380, y: 630, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 400 },
        ]
      },
      {
        id: 'table-comparison',
        name: 'ÂØπÊØîË°®Ê†º',
        preview: 'ÂØπÊØî',
        elements: [
          // Title
          { type: 'text', text: 'ÊñπÊ°àÂØπÊØî', x: 375, y: 80, fontSize: 42, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 375, y: 115, width: 180, height: 3, color: '#3498db' },

          // VS icon
          { type: 'circle', x: 375, y: 350, size: 80, backgroundColor: '#3498db', border: 'none' },
          { type: 'text', text: 'VS', x: 375, y: 350, fontSize: 32, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 100 },

          // Left option
          { type: 'rectangle', x: 190, y: 350, width: 280, height: 400, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 20 },
          { type: 'text', text: 'ÊñπÊ°à A', x: 190, y: 220, fontSize: 36, fontWeight: 'bold', color: '#3498db', align: 'center', width: 250 },
          { type: 'text', text: '‚úì ‰ºòÁÇπ‰∏Ä', x: 190, y: 300, fontSize: 20, fontWeight: 'normal', color: '#2c3e50', align: 'left', width: 220 },
          { type: 'text', text: '‚úì ‰ºòÁÇπ‰∫å', x: 190, y: 350, fontSize: 20, fontWeight: 'normal', color: '#2c3e50', align: 'left', width: 220 },
          { type: 'text', text: '‚úì ‰ºòÁÇπ‰∏â', x: 190, y: 400, fontSize: 20, fontWeight: 'normal', color: '#2c3e50', align: 'left', width: 220 },
          { type: 'text', text: '‚ö† Áº∫ÁÇπ‰∏Ä', x: 190, y: 470, fontSize: 18, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 220 },

          // Right option
          { type: 'rectangle', x: 560, y: 350, width: 280, height: 400, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 20 },
          { type: 'text', text: 'ÊñπÊ°à B', x: 560, y: 220, fontSize: 36, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 250 },
          { type: 'text', text: '‚úì ‰ºòÁÇπ‰∏Ä', x: 560, y: 300, fontSize: 20, fontWeight: 'normal', color: '#2c3e50', align: 'left', width: 220 },
          { type: 'text', text: '‚úì ‰ºòÁÇπ‰∫å', x: 560, y: 350, fontSize: 20, fontWeight: 'normal', color: '#2c3e50', align: 'left', width: 220 },
          { type: 'text', text: '‚úì ‰ºòÁÇπ‰∏â', x: 560, y: 400, fontSize: 20, fontWeight: 'normal', color: '#2c3e50', align: 'left', width: 220 },
          { type: 'text', text: '‚ö† Áº∫ÁÇπ‰∏Ä', x: 560, y: 470, fontSize: 18, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 220 },
        ]
      }
    ]
  },
  {
    name: 'ÊµÅÁ®ã',
    icon: '‚Üí',
    templates: [
      {
        id: 'flow-with-connectors',
        name: 'ËøûÊé•Á∫øÊµÅÁ®ãÂõæ',
        preview: 'ËøûÁ∫ø',
        elements: [
          // Title
          { type: 'text', text: 'ÊµÅÁ®ãÂõæÁ§∫‰æã', x: 375, y: 80, fontSize: 40, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },

          // Step 1
          { type: 'rectangle', x: 150, y: 250, width: 150, height: 100, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 15 },
          { type: 'text', text: 'ÂºÄÂßã', x: 150, y: 250, fontSize: 26, fontWeight: 'bold', color: '#3498db', align: 'center', width: 140 },

          // Connector 1
          { type: 'connector', fromX: 225, fromY: 250, toX: 340, toY: 250, lineType: 'straight', style: 'solid', color: '#3498db', strokeWidth: 3, startArrow: false, endArrow: true },

          // Step 2
          { type: 'rectangle', x: 375, y: 250, width: 150, height: 100, backgroundColor: '#ebfaf5', border: '3px solid #2ecc71', borderRadius: 15 },
          { type: 'text', text: 'Â§ÑÁêÜ', x: 375, y: 250, fontSize: 26, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 140 },

          // Connector 2
          { type: 'connector', fromX: 450, fromY: 250, toX: 565, toY: 250, lineType: 'straight', style: 'solid', color: '#2ecc71', strokeWidth: 3, startArrow: false, endArrow: true },

          // Step 3
          { type: 'rectangle', x: 600, y: 250, width: 150, height: 100, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 15 },
          { type: 'text', text: 'ÂÆåÊàê', x: 600, y: 250, fontSize: 26, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 140 },

          // Branch connector (curved)
          { type: 'connector', fromX: 375, fromY: 300, toX: 375, toY: 430, lineType: 'elbow', style: 'dashed', color: '#e74c3c', strokeWidth: 2, startArrow: false, endArrow: true },

          // Branch step
          { type: 'rectangle', x: 375, y: 480, width: 180, height: 80, backgroundColor: '#fdeef4', border: '3px solid #e74c3c', borderRadius: 15 },
          { type: 'text', text: 'ÂºÇÂ∏∏Â§ÑÁêÜ', x: 375, y: 480, fontSize: 22, fontWeight: 'bold', color: '#e74c3c', align: 'center', width: 160 },
        ]
      },
      {
        id: 'flow-modern-horizontal',
        name: 'Áé∞‰ª£Ê®™ÂêëÊµÅÁ®ã',
        preview: 'Ê≠•È™§',
        elements: [
          // Title
          { type: 'text', text: 'ÂÆûÊñΩÊµÅÁ®ã', x: 375, y: 100, fontSize: 42, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 375, y: 135, width: 180, height: 3, color: '#3498db' },

          // Step 1
          { type: 'rectangle', x: 130, y: 350, width: 150, height: 150, backgroundColor: '#3498db', border: 'none', borderRadius: 20 },
          { type: 'text', text: '01', x: 130, y: 310, fontSize: 32, fontWeight: 'bold', color: '#3498db', align: 'center', width: 100 },
          { type: 'text', text: 'ËßÑÂàíÈò∂ÊÆµ', x: 130, y: 350, fontSize: 24, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 140 },
          { type: 'text', text: 'Âà∂ÂÆöÊñπÊ°à', x: 130, y: 430, fontSize: 14, fontWeight: 'normal', color: '#2c3e50', align: 'center', width: 140 },

          // Arrow 1
          { type: 'icon', text: '‚Üí', x: 235, y: 350, fontSize: 48, color: '#95a5a6' },

          // Step 2
          { type: 'rectangle', x: 320, y: 350, width: 150, height: 150, backgroundColor: '#2ecc71', border: 'none', borderRadius: 20 },
          { type: 'text', text: '02', x: 320, y: 310, fontSize: 32, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 100 },
          { type: 'text', text: 'ÊâßË°åÈò∂ÊÆµ', x: 320, y: 350, fontSize: 24, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 140 },
          { type: 'text', text: 'ÂºÄÂßãÂÆûÊñΩ', x: 320, y: 430, fontSize: 14, fontWeight: 'normal', color: '#2c3e50', align: 'center', width: 140 },

          // Arrow 2
          { type: 'icon', text: '‚Üí', x: 425, y: 350, fontSize: 48, color: '#95a5a6' },

          // Step 3
          { type: 'rectangle', x: 510, y: 350, width: 150, height: 150, backgroundColor: '#f39c12', border: 'none', borderRadius: 20 },
          { type: 'text', text: '03', x: 510, y: 310, fontSize: 32, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 100 },
          { type: 'text', text: '‰ºòÂåñÈò∂ÊÆµ', x: 510, y: 350, fontSize: 24, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 140 },
          { type: 'text', text: 'ÊåÅÁª≠ÊîπËøõ', x: 510, y: 430, fontSize: 14, fontWeight: 'normal', color: '#2c3e50', align: 'center', width: 140 },

          // Arrow 3
          { type: 'icon', text: '‚Üí', x: 615, y: 350, fontSize: 48, color: '#95a5a6' },

          // Step 4
          { type: 'rectangle', x: 700, y: 350, width: 150, height: 150, backgroundColor: '#e74c3c', border: 'none', borderRadius: 20 },
          { type: 'text', text: '04', x: 700, y: 310, fontSize: 32, fontWeight: 'bold', color: '#e74c3c', align: 'center', width: 100 },
          { type: 'text', text: 'ÂÆåÊàêÈò∂ÊÆµ', x: 700, y: 350, fontSize: 24, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 140 },
          { type: 'text', text: 'ÊÄªÁªì‰∫§‰ªò', x: 700, y: 430, fontSize: 14, fontWeight: 'normal', color: '#2c3e50', align: 'center', width: 140 },
        ]
      },
      {
        id: 'flow-scrtv-beautiful',
        name: 'SCRTVÊïÖ‰∫ãÊ®°Âûã',
        preview: 'SCRTV',
        elements: [
          // Title
          { type: 'text', text: 'SCRTV ÊïÖ‰∫ãÊ°ÜÊû∂', x: 375, y: 80, fontSize: 40, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 375, y: 115, width: 240, height: 3, color: '#9b59b6' },

          // Background bar
          { type: 'rectangle', x: 375, y: 300, width: 700, height: 120, backgroundColor: '#f8f9fa', border: '2px solid #e9ecef', borderRadius: 60 },

          // Step S
          { type: 'circle', x: 100, y: 300, size: 100, backgroundColor: '#3498db', border: 'none' },
          { type: 'text', text: 'S', x: 100, y: 280, fontSize: 40, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Ë°®ÊÉÖÂ¢É', x: 100, y: 320, fontSize: 18, fontWeight: 'normal', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Scene', x: 100, y: 390, fontSize: 16, fontWeight: 'bold', color: '#3498db', align: 'center', width: 100 },

          // Step C
          { type: 'circle', x: 235, y: 300, size: 100, backgroundColor: '#2ecc71', border: 'none' },
          { type: 'text', text: 'C', x: 235, y: 280, fontSize: 40, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'ÁàÜÂÜ≤Á™Å', x: 235, y: 320, fontSize: 18, fontWeight: 'normal', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Conflict', x: 235, y: 390, fontSize: 16, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 100 },

          // Step R
          { type: 'circle', x: 375, y: 300, size: 100, backgroundColor: '#f39c12', border: 'none' },
          { type: 'text', text: 'R', x: 375, y: 280, fontSize: 40, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'ÊâæÂéüÂõ†', x: 375, y: 320, fontSize: 18, fontWeight: 'normal', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Reason', x: 375, y: 390, fontSize: 16, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 100 },

          // Step T
          { type: 'circle', x: 515, y: 300, size: 100, backgroundColor: '#9b59b6', border: 'none' },
          { type: 'text', text: 'T', x: 515, y: 280, fontSize: 40, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'ÂÆöÁ≠ñÁï•', x: 515, y: 320, fontSize: 18, fontWeight: 'normal', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Tactics', x: 515, y: 390, fontSize: 16, fontWeight: 'bold', color: '#9b59b6', align: 'center', width: 100 },

          // Step V
          { type: 'circle', x: 650, y: 300, size: 100, backgroundColor: '#e74c3c', border: 'none' },
          { type: 'text', text: 'V', x: 650, y: 280, fontSize: 40, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Â°ë‰ª∑ÂÄº', x: 650, y: 320, fontSize: 18, fontWeight: 'normal', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'Value', x: 650, y: 390, fontSize: 16, fontWeight: 'bold', color: '#e74c3c', align: 'center', width: 100 },
        ]
      }
    ]
  },
  {
    name: 'Âç°Áâá',
    icon: 'üé¥',
    templates: [
      {
        id: 'card-feature-grid',
        name: 'ÁâπÊÄßÂ±ïÁ§∫',
        preview: 'ÁâπÊÄß',
        elements: [
          // Title
          { type: 'text', text: 'Ê†∏ÂøÉÁâπÊÄß', x: 375, y: 100, fontSize: 42, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 375, y: 135, width: 160, height: 3, color: '#3498db' },

          // Card 1
          { type: 'rectangle', x: 150, y: 280, width: 240, height: 280, backgroundColor: '#ffffff', border: '3px solid #3498db', borderRadius: 20 },
          { type: 'circle', x: 150, y: 210, size: 70, backgroundColor: '#3498db', border: 'none' },
          { type: 'icon', text: '‚ö°', x: 150, y: 210, fontSize: 40, color: '#ffffff' },
          { type: 'text', text: 'È´òÊïàÂø´ÈÄü', x: 150, y: 310, fontSize: 26, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 200 },
          { type: 'text', text: 'ÊûÅËá¥ÁöÑÊÄßËÉΩ‰ºòÂåñ\nÊØ´ÁßíÁ∫ßÂìçÂ∫î', x: 150, y: 370, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'center', width: 200 },

          // Card 2
          { type: 'rectangle', x: 420, y: 280, width: 240, height: 280, backgroundColor: '#ffffff', border: '3px solid #2ecc71', borderRadius: 20 },
          { type: 'circle', x: 420, y: 210, size: 70, backgroundColor: '#2ecc71', border: 'none' },
          { type: 'icon', text: 'üéØ', x: 420, y: 210, fontSize: 40, color: '#ffffff' },
          { type: 'text', text: 'Á≤æÂáÜÂÆö‰Ωç', x: 420, y: 310, fontSize: 26, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 200 },
          { type: 'text', text: 'Êô∫ËÉΩÁÆóÊ≥ïÊîØÊåÅ\nÂáÜÁ°ÆÁéá99%', x: 420, y: 370, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'center', width: 200 },

          // Card 3
          { type: 'rectangle', x: 150, y: 610, width: 240, height: 280, backgroundColor: '#ffffff', border: '3px solid #f39c12', borderRadius: 20 },
          { type: 'circle', x: 150, y: 540, size: 70, backgroundColor: '#f39c12', border: 'none' },
          { type: 'icon', text: 'üîí', x: 150, y: 540, fontSize: 40, color: '#ffffff' },
          { type: 'text', text: 'ÂÆâÂÖ®ÂèØÈù†', x: 150, y: 640, fontSize: 26, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 200 },
          { type: 'text', text: 'Â§öÈáçÂä†ÂØÜ‰øùÊä§\nÊï∞ÊçÆÂÆâÂÖ®Á¨¨‰∏Ä', x: 150, y: 700, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'center', width: 200 },

          // Card 4
          { type: 'rectangle', x: 420, y: 610, width: 240, height: 280, backgroundColor: '#ffffff', border: '3px solid #e74c3c', borderRadius: 20 },
          { type: 'circle', x: 420, y: 540, size: 70, backgroundColor: '#e74c3c', border: 'none' },
          { type: 'icon', text: 'üíé', x: 420, y: 540, fontSize: 40, color: '#ffffff' },
          { type: 'text', text: 'ÂìÅË¥®‰øùËØÅ', x: 420, y: 640, fontSize: 26, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 200 },
          { type: 'text', text: '‰∏•Ê†ºË¥®ÈáèÊääÊéß\nÁ≤æÁõäÊ±ÇÁ≤æ', x: 420, y: 700, fontSize: 16, fontWeight: 'normal', color: '#7f8c8d', align: 'center', width: 200 },
        ]
      },
      {
        id: 'card-info-banner',
        name: '‰ø°ÊÅØÊ®™ÂπÖ',
        preview: 'Ê®™ÂπÖ',
        elements: [
          // Main banner
          { type: 'rectangle', x: 375, y: 250, width: 650, height: 180, backgroundColor: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', border: 'none', borderRadius: 25 },
          { type: 'circle', x: 150, y: 250, size: 120, backgroundColor: '#ffffff', border: '5px solid #667eea' },
          { type: 'icon', text: 'üéâ', x: 150, y: 250, fontSize: 60, color: '#667eea' },
          { type: 'text', text: 'ÈáçË¶ÅÈÄöÁü•', x: 440, y: 220, fontSize: 36, fontWeight: 'bold', color: '#ffffff', align: 'left', width: 400 },
          { type: 'text', text: 'ËøôÈáåÊòØÈáçË¶Å‰ø°ÊÅØÁöÑËØ¶ÁªÜÂÜÖÂÆπÊèèËø∞', x: 440, y: 270, fontSize: 20, fontWeight: 'normal', color: '#f0f0f0', align: 'left', width: 400 },

          // Bottom info cards
          { type: 'rectangle', x: 185, y: 420, width: 180, height: 140, backgroundColor: '#e8f5fe', border: '2px solid #3498db', borderRadius: 15 },
          { type: 'text', text: 'üìä', x: 185, y: 400, fontSize: 40, color: '#3498db', align: 'center', width: 100 },
          { type: 'text', text: 'Êï∞ÊçÆÂàÜÊûê', x: 185, y: 450, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          { type: 'rectangle', x: 375, y: 420, width: 180, height: 140, backgroundColor: '#ebfaf5', border: '2px solid #2ecc71', borderRadius: 15 },
          { type: 'text', text: '‚öôÔ∏è', x: 375, y: 400, fontSize: 40, color: '#2ecc71', align: 'center', width: 100 },
          { type: 'text', text: 'Á≥ªÁªüËÆæÁΩÆ', x: 375, y: 450, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          { type: 'rectangle', x: 565, y: 420, width: 180, height: 140, backgroundColor: '#fef5e7', border: '2px solid #f39c12', borderRadius: 15 },
          { type: 'text', text: 'üìù', x: 565, y: 400, fontSize: 40, color: '#f39c12', align: 'center', width: 100 },
          { type: 'text', text: 'ÂÜÖÂÆπÁÆ°ÁêÜ', x: 565, y: 450, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },
        ]
      }
    ]
  },
  {
    name: 'ÊÄùÁª¥ÂØºÂõæ',
    icon: 'üß†',
    templates: [
      {
        id: 'mindmap-fishbone',
        name: 'È±ºÈ™®ÂõæÂàÜÊûê',
        preview: 'È±ºÈ™®',
        elements: [
          // Title
          { type: 'text', text: 'ÈóÆÈ¢òÂàÜÊûê - È±ºÈ™®Âõæ', x: 375, y: 80, fontSize: 40, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 265, y: 115, width: 220, height: 3, color: '#3498db' },

          // Main spine (vertical) - using rectangle for better visibility
          { type: 'rectangle', x: 375, y: 450, width: 6, height: 600, backgroundColor: '#34495e', border: 'none', borderRadius: 3 },

          // Result/Problem box at bottom
          { type: 'circle', x: 375, y: 780, size: 100, backgroundColor: '#e74c3c', border: '5px solid #c0392b' },
          { type: 'text', text: 'ÈóÆÈ¢ò', x: 375, y: 765, fontSize: 28, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 80 },
          { type: 'text', text: 'ÁªìÊûú', x: 375, y: 795, fontSize: 18, fontWeight: 'normal', color: '#ffffff', align: 'center', width: 80 },

          // Left branch 1 (top)
          { type: 'line', x: 290, y: 227, width: 95, height: 3, color: '#3498db', rotate: 35 },
          { type: 'rectangle', x: 180, y: 180, width: 200, height: 80, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†‰∏Ä', x: 180, y: 165, fontSize: 22, fontWeight: 'bold', color: '#3498db', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 180, y: 195, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Sub-branch 1-1
          { type: 'icon', text: '‚Ä¢', x: 95, y: 270, fontSize: 16, color: '#7f8c8d' },
          { type: 'text', text: 'ÁªÜËäÇÊèèËø∞', x: 120, y: 270, fontSize: 14, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 120 },

          // Right branch 1 (top)
          { type: 'line', x: 378, y: 227, width: 95, height: 3, color: '#2ecc71', rotate: -35 },
          { type: 'rectangle', x: 570, y: 180, width: 200, height: 80, backgroundColor: '#ebfaf5', border: '3px solid #2ecc71', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†‰∫å', x: 570, y: 165, fontSize: 22, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 570, y: 195, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Sub-branch 1-2
          { type: 'icon', text: '‚Ä¢', x: 635, y: 270, fontSize: 16, color: '#7f8c8d' },
          { type: 'text', text: 'ÁªÜËäÇÊèèËø∞', x: 660, y: 270, fontSize: 14, fontWeight: 'normal', color: '#7f8c8d', align: 'left', width: 120 },

          // Left branch 2 (middle-top)
          { type: 'line', x: 290, y: 347, width: 95, height: 3, color: '#f39c12', rotate: 35 },
          { type: 'rectangle', x: 180, y: 310, width: 200, height: 80, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†‰∏â', x: 180, y: 295, fontSize: 22, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 180, y: 325, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Right branch 2 (middle-top)
          { type: 'line', x: 378, y: 347, width: 95, height: 3, color: '#9b59b6', rotate: -35 },
          { type: 'rectangle', x: 570, y: 310, width: 200, height: 80, backgroundColor: '#f4ecf7', border: '3px solid #9b59b6', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†Âõõ', x: 570, y: 295, fontSize: 22, fontWeight: 'bold', color: '#9b59b6', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 570, y: 325, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Left branch 3 (middle-bottom)
          { type: 'line', x: 290, y: 477, width: 95, height: 3, color: '#16a085', rotate: 35 },
          { type: 'rectangle', x: 180, y: 440, width: 200, height: 80, backgroundColor: '#d5f4e6', border: '3px solid #16a085', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†‰∫î', x: 180, y: 425, fontSize: 22, fontWeight: 'bold', color: '#16a085', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 180, y: 455, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Right branch 3 (middle-bottom)
          { type: 'line', x: 378, y: 477, width: 95, height: 3, color: '#e67e22', rotate: -35 },
          { type: 'rectangle', x: 570, y: 440, width: 200, height: 80, backgroundColor: '#fef5e7', border: '3px solid #e67e22', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†ÂÖ≠', x: 570, y: 425, fontSize: 22, fontWeight: 'bold', color: '#e67e22', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 570, y: 455, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Left branch 4 (bottom)
          { type: 'line', x: 290, y: 607, width: 95, height: 3, color: '#c0392b', rotate: 35 },
          { type: 'rectangle', x: 180, y: 570, width: 200, height: 80, backgroundColor: '#fadbd8', border: '3px solid #c0392b', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†‰∏É', x: 180, y: 555, fontSize: 22, fontWeight: 'bold', color: '#c0392b', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 180, y: 585, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },

          // Right branch 4 (bottom)
          { type: 'line', x: 378, y: 607, width: 95, height: 3, color: '#d35400', rotate: -35 },
          { type: 'rectangle', x: 570, y: 570, width: 200, height: 80, backgroundColor: '#fdebd0', border: '3px solid #d35400', borderRadius: 12 },
          { type: 'text', text: 'ÂéüÂõ†ÂÖ´', x: 570, y: 555, fontSize: 22, fontWeight: 'bold', color: '#d35400', align: 'center', width: 180 },
          { type: 'text', text: 'ÂÖ∑‰ΩìÂõ†Á¥†ÊèèËø∞', x: 570, y: 585, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 180 },
        ]
      },
      {
        id: 'mindmap-beautiful-radial',
        name: 'ÊîæÂ∞ÑÊÄùÁª¥Âõæ',
        preview: 'ÊîæÂ∞Ñ',
        elements: [
          // Center circle with gradient effect
          { type: 'circle', x: 375, y: 350, size: 140, backgroundColor: '#9b59b6', border: '5px solid #8e44ad' },
          { type: 'text', text: '‰∏≠ÂøÉ‰∏ªÈ¢ò', x: 375, y: 350, fontSize: 28, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 120 },

          // Branch 1 - Top
          { type: 'line', x: 375, y: 250, width: 4, height: 60, color: '#3498db' },
          { type: 'rectangle', x: 375, y: 180, width: 180, height: 90, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 12 },
          { type: 'text', text: 'üí° ÂàõÊÑèÊÉ≥Ê≥ï', x: 375, y: 180, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 2 - Top Right
          { type: 'line', x: 455, y: 305, width: 80, height: 3, color: '#2ecc71', rotate: -45 },
          { type: 'rectangle', x: 550, y: 220, width: 180, height: 90, backgroundColor: '#ebfaf5', border: '3px solid #2ecc71', borderRadius: 12 },
          { type: 'text', text: 'üìä Êï∞ÊçÆÂàÜÊûê', x: 550, y: 220, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 3 - Right
          { type: 'line', x: 475, y: 350, width: 70, height: 4, color: '#f39c12' },
          { type: 'rectangle', x: 590, y: 350, width: 180, height: 90, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 12 },
          { type: 'text', text: 'üéØ ÁõÆÊ†áËßÑÂàí', x: 590, y: 350, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 4 - Bottom Right
          { type: 'line', x: 455, y: 395, width: 80, height: 3, color: '#e74c3c', rotate: 45 },
          { type: 'rectangle', x: 550, y: 480, width: 180, height: 90, backgroundColor: '#fdeef4', border: '3px solid #e74c3c', borderRadius: 12 },
          { type: 'text', text: 'üöÄ ÊâßË°åÊñπÊ°à', x: 550, y: 480, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 5 - Bottom
          { type: 'line', x: 375, y: 420, width: 4, height: 60, color: '#1abc9c' },
          { type: 'rectangle', x: 375, y: 520, width: 180, height: 90, backgroundColor: '#e8f8f5', border: '3px solid #1abc9c', borderRadius: 12 },
          { type: 'text', text: 'üìù ÊÄªÁªìÂèçÊÄù', x: 375, y: 520, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 6 - Bottom Left
          { type: 'line', x: 295, y: 395, width: 80, height: 3, color: '#e67e22', rotate: -45 },
          { type: 'rectangle', x: 200, y: 480, width: 180, height: 90, backgroundColor: '#fef5e7', border: '3px solid #e67e22', borderRadius: 12 },
          { type: 'text', text: '‚ö° Âø´ÈÄüËø≠‰ª£', x: 200, y: 480, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 7 - Left
          { type: 'line', x: 305, y: 350, width: 70, height: 4, color: '#16a085' },
          { type: 'rectangle', x: 160, y: 350, width: 180, height: 90, backgroundColor: '#d5f4e6', border: '3px solid #16a085', borderRadius: 12 },
          { type: 'text', text: 'üí™ Âõ¢ÈòüÂçè‰Ωú', x: 160, y: 350, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },

          // Branch 8 - Top Left
          { type: 'line', x: 295, y: 305, width: 80, height: 3, color: '#c0392b', rotate: 45 },
          { type: 'rectangle', x: 200, y: 220, width: 180, height: 90, backgroundColor: '#fadbd8', border: '3px solid #c0392b', borderRadius: 12 },
          { type: 'text', text: 'üé® ËÆæËÆ°‰ºòÂåñ', x: 200, y: 220, fontSize: 20, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 160 },
        ]
      }
    ]
  },
  {
    name: 'Ê®°ÂûãÊ°ÜÊû∂',
    icon: 'üì¶',
    templates: [
      {
        id: 'model-prep-pro',
        name: 'PREP‰∏ì‰∏öÁâà',
        preview: 'PREP',
        elements: [
          // Title
          { type: 'text', text: 'PREP ÁªìËÆ∫ÂÖàË°åÊ≥ïÂàô', x: 375, y: 80, fontSize: 40, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 375, y: 115, width: 280, height: 3, color: '#9b59b6' },

          // P - Point
          { type: 'rectangle', x: 375, y: 220, width: 600, height: 120, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 15 },
          { type: 'circle', x: 140, y: 220, size: 80, backgroundColor: '#3498db', border: 'none' },
          { type: 'text', text: 'P', x: 140, y: 220, fontSize: 42, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 70 },
          { type: 'text', text: 'Point - ÁªìËÆ∫ËßÇÁÇπ', x: 430, y: 200, fontSize: 28, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: 'ÂºÄÈó®ËßÅÂ±±ÔºåÂÖàËØ¥ÁªìËÆ∫', x: 430, y: 240, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'left', width: 400 },

          // R - Reason
          { type: 'rectangle', x: 375, y: 370, width: 600, height: 120, backgroundColor: '#ebfaf5', border: '3px solid #2ecc71', borderRadius: 15 },
          { type: 'circle', x: 140, y: 370, size: 80, backgroundColor: '#2ecc71', border: 'none' },
          { type: 'text', text: 'R', x: 140, y: 370, fontSize: 42, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 70 },
          { type: 'text', text: 'Reason - ÊîØÊíëÁêÜÁî±', x: 430, y: 350, fontSize: 28, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: 'ËØ¥Êòé‰∏∫‰ªÄ‰πàËøôÊ†∑ËÆ§‰∏∫', x: 430, y: 390, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'left', width: 400 },

          // E - Example
          { type: 'rectangle', x: 375, y: 520, width: 600, height: 120, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 15 },
          { type: 'circle', x: 140, y: 520, size: 80, backgroundColor: '#f39c12', border: 'none' },
          { type: 'text', text: 'E', x: 140, y: 520, fontSize: 42, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 70 },
          { type: 'text', text: 'Example - ‰∏æ‰æãËÆ∫ËØÅ', x: 430, y: 500, fontSize: 28, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: 'Áî®ÂÖ∑‰ΩìÊ°à‰æã‰ΩêËØÅËßÇÁÇπ', x: 430, y: 540, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'left', width: 400 },

          // P - Point Again
          { type: 'rectangle', x: 375, y: 670, width: 600, height: 120, backgroundColor: '#fdeef4', border: '3px solid #e74c3c', borderRadius: 15 },
          { type: 'circle', x: 140, y: 670, size: 80, backgroundColor: '#e74c3c', border: 'none' },
          { type: 'text', text: 'P', x: 140, y: 670, fontSize: 42, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 70 },
          { type: 'text', text: 'Point - ÈáçÁî≥ÁªìËÆ∫', x: 430, y: 650, fontSize: 28, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 400 },
          { type: 'text', text: 'ÂÜçÊ¨°Âº∫Ë∞ÉÊ†∏ÂøÉËßÇÁÇπ', x: 430, y: 690, fontSize: 18, fontWeight: 'normal', color: '#555', align: 'left', width: 400 },
        ]
      },
      {
        id: 'model-5w2h-pro',
        name: '5W2HÂàÜÊûêÊ≥ï',
        preview: '5W2H',
        elements: [
          // Title with decoration
          { type: 'text', text: '5W2H ÈóÆÈ¢òÂàÜÊûêÊ≥ï', x: 375, y: 80, fontSize: 40, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 600 },
          { type: 'line', x: 375, y: 115, width: 260, height: 3, color: '#3498db' },

          // Left column
          { type: 'rectangle', x: 190, y: 240, width: 280, height: 100, backgroundColor: '#e8f5fe', border: '3px solid #3498db', borderRadius: 12 },
          { type: 'text', text: 'What', x: 120, y: 240, fontSize: 32, fontWeight: 'bold', color: '#3498db', align: 'center', width: 100 },
          { type: 'text', text: 'ÊòØ‰ªÄ‰πàÔºü', x: 190, y: 225, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
          { type: 'text', text: 'ÁõÆÊ†áÂíåÂÜÖÂÆπ', x: 190, y: 255, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 260 },

          { type: 'rectangle', x: 190, y: 370, width: 280, height: 100, backgroundColor: '#ebfaf5', border: '3px solid #2ecc71', borderRadius: 12 },
          { type: 'text', text: 'Why', x: 120, y: 370, fontSize: 32, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 100 },
          { type: 'text', text: '‰∏∫‰ªÄ‰πàÔºü', x: 190, y: 355, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
          { type: 'text', text: 'ÂéüÂõ†ÂíåÁõÆÁöÑ', x: 190, y: 385, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 260 },

          { type: 'rectangle', x: 190, y: 500, width: 280, height: 100, backgroundColor: '#fef5e7', border: '3px solid #f39c12', borderRadius: 12 },
          { type: 'text', text: 'Who', x: 120, y: 500, fontSize: 32, fontWeight: 'bold', color: '#f39c12', align: 'center', width: 100 },
          { type: 'text', text: 'Ë∞ÅË¥üË¥£Ôºü', x: 190, y: 485, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
          { type: 'text', text: 'Ë¥£‰ªª‰∫∫', x: 190, y: 515, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 260 },

          { type: 'rectangle', x: 190, y: 630, width: 280, height: 100, backgroundColor: '#fdeef4', border: '3px solid #e74c3c', borderRadius: 12 },
          { type: 'text', text: 'When', x: 120, y: 630, fontSize: 32, fontWeight: 'bold', color: '#e74c3c', align: 'center', width: 100 },
          { type: 'text', text: '‰ΩïÊó∂ÂÅöÔºü', x: 190, y: 615, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
          { type: 'text', text: 'Êó∂Èó¥ËäÇÁÇπ', x: 190, y: 645, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 260 },

          // Right column
          { type: 'rectangle', x: 560, y: 240, width: 280, height: 100, backgroundColor: '#f4ecf7', border: '3px solid #9b59b6', borderRadius: 12 },
          { type: 'text', text: 'Where', x: 630, y: 240, fontSize: 32, fontWeight: 'bold', color: '#9b59b6', align: 'center', width: 100 },
          { type: 'text', text: 'Âú®Âì™ÈáåÔºü', x: 560, y: 225, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
          { type: 'text', text: 'Âú∞ÁÇπÂú∫ÊâÄ', x: 560, y: 255, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 260 },

          { type: 'rectangle', x: 560, y: 370, width: 280, height: 100, backgroundColor: '#d5f4e6', border: '3px solid #16a085', borderRadius: 12 },
          { type: 'text', text: 'How', x: 630, y: 370, fontSize: 32, fontWeight: 'bold', color: '#16a085', align: 'center', width: 100 },
          { type: 'text', text: 'ÊÄé‰πàÂÅöÔºü', x: 560, y: 355, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
          { type: 'text', text: 'ÊñπÊ≥ïÊâãÊÆµ', x: 560, y: 385, fontSize: 16, fontWeight: 'normal', color: '#555', align: 'center', width: 260 },

          { type: 'rectangle', x: 560, y: 500, width: 280, height: 100, backgroundColor: '#ffeaa7', border: '3px solid #fdcb6e', borderRadius: 12 },
          { type: 'text', text: 'How much', x: 560, y: 485, fontSize: 26, fontWeight: 'bold', color: '#d63031', align: 'center', width: 260 },
          { type: 'text', text: 'Â§öÂ∞ëÊàêÊú¨Ôºü', x: 560, y: 515, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'center', width: 260 },
        ]
      }
    ]
  },
  {
    name: 'Ê∏ÖÂçï',
    icon: '‚úì',
    templates: [
      {
        id: 'checklist-pro',
        name: 'Á≤æÁæéÊ∏ÖÂçï',
        preview: 'Ê∏ÖÂçï',
        elements: [
          // Header
          { type: 'rectangle', x: 375, y: 120, width: 650, height: 100, backgroundColor: '#3498db', border: 'none', borderRadius: 20 },
          { type: 'text', text: 'üìã ÂæÖÂäûÊ∏ÖÂçï', x: 375, y: 120, fontSize: 38, fontWeight: 'bold', color: '#ffffff', align: 'center', width: 600 },

          // Item 1
          { type: 'rectangle', x: 375, y: 240, width: 620, height: 80, backgroundColor: '#ffffff', border: '2px solid #e9ecef', borderRadius: 12 },
          { type: 'circle', x: 110, y: 240, size: 40, backgroundColor: '#2ecc71', border: 'none' },
          { type: 'icon', text: '‚úì', x: 110, y: 240, fontSize: 28, color: '#ffffff' },
          { type: 'text', text: 'Á¨¨‰∏ÄÈ°πÈáçË¶Å‰ªªÂä°', x: 330, y: 240, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 450 },

          // Item 2
          { type: 'rectangle', x: 375, y: 350, width: 620, height: 80, backgroundColor: '#ffffff', border: '2px solid #e9ecef', borderRadius: 12 },
          { type: 'circle', x: 110, y: 350, size: 40, backgroundColor: '#3498db', border: 'none' },
          { type: 'icon', text: '‚úì', x: 110, y: 350, fontSize: 28, color: '#ffffff' },
          { type: 'text', text: 'Á¨¨‰∫åÈ°πÈáçË¶Å‰ªªÂä°', x: 330, y: 350, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 450 },

          // Item 3
          { type: 'rectangle', x: 375, y: 460, width: 620, height: 80, backgroundColor: '#ffffff', border: '2px solid #e9ecef', borderRadius: 12 },
          { type: 'circle', x: 110, y: 460, size: 40, backgroundColor: '#f39c12', border: 'none' },
          { type: 'icon', text: '‚úì', x: 110, y: 460, fontSize: 28, color: '#ffffff' },
          { type: 'text', text: 'Á¨¨‰∏âÈ°πÈáçË¶Å‰ªªÂä°', x: 330, y: 460, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 450 },

          // Item 4
          { type: 'rectangle', x: 375, y: 570, width: 620, height: 80, backgroundColor: '#ffffff', border: '2px solid #e9ecef', borderRadius: 12 },
          { type: 'circle', x: 110, y: 570, size: 40, backgroundColor: '#e74c3c', border: 'none' },
          { type: 'icon', text: '‚úì', x: 110, y: 570, fontSize: 28, color: '#ffffff' },
          { type: 'text', text: 'Á¨¨ÂõõÈ°πÈáçË¶Å‰ªªÂä°', x: 330, y: 570, fontSize: 22, fontWeight: 'bold', color: '#2c3e50', align: 'left', width: 450 },

          // Progress bar
          { type: 'rectangle', x: 375, y: 700, width: 620, height: 30, backgroundColor: '#ecf0f1', border: 'none', borderRadius: 15 },
          { type: 'rectangle', x: 220, y: 700, width: 300, height: 30, backgroundColor: '#2ecc71', border: 'none', borderRadius: 15 },
          { type: 'text', text: 'ÂÆåÊàêÂ∫¶: 75%', x: 375, y: 750, fontSize: 18, fontWeight: 'bold', color: '#2ecc71', align: 'center', width: 200 },
        ]
      }
    ]
  }
])

const selectedCategory = ref(0)

const addTemplate = (template) => {
  emit('add-template', template)
}
</script>

<template>
  <div class="template-library">
    <div class="library-header">
      <h3>üìã Ê®°ÊùøÂ∫ì</h3>
      <p class="hint">Á≤æÁæéÈ¢ÑËÆæÊ®°ÊùøÔºå‰∏ÄÈîÆÂ∫îÁî®</p>
    </div>

    <!-- Category Tabs -->
    <div class="category-tabs">
      <button
        v-for="(category, index) in categories"
        :key="index"
        @click="selectedCategory = index"
        :class="['category-tab', { active: selectedCategory === index }]"
      >
        <span class="tab-icon">{{ category.icon }}</span>
        <span class="tab-name">{{ category.name }}</span>
      </button>
    </div>

    <!-- Templates Grid -->
    <div class="templates-grid">
      <div
        v-for="template in categories[selectedCategory].templates"
        :key="template.id"
        class="template-card"
        @click="addTemplate(template)"
      >
        <div class="template-preview">
          <span class="preview-text">{{ template.preview }}</span>
        </div>
        <div class="template-name">{{ template.name }}</div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.template-library {
  height: 100%;
  display: flex;
  flex-direction: column;
  background: white;
  overflow: hidden;
}

.library-header {
  padding: 16px;
  border-bottom: 2px solid #f0f0f0;
  background: white;
  flex-shrink: 0;
}

.library-header h3 {
  font-size: 16px;
  font-weight: 600;
  color: #222;
  margin: 0 0 4px 0;
}

.library-header .hint {
  font-size: 12px;
  color: #999;
  margin: 0;
}

.category-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  padding: 12px;
  border-bottom: 1px solid #f0f0f0;
  background: #fafafa;
  overflow-x: auto;
  flex-shrink: 0;
}

.category-tab {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 13px;
  color: #555;
  white-space: nowrap;
}

.category-tab:hover {
  border-color: #999;
  background: #f8f8f8;
}

.category-tab.active {
  border-color: #4a90e2;
  background: #e3f2fd;
  color: #333;
  font-weight: 500;
}

.tab-icon {
  font-size: 16px;
}

.tab-name {
  font-size: 13px;
}

.templates-grid {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  align-content: start;
}

.template-card {
  border: 2px solid #e5e5e5;
  border-radius: 8px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.2s;
  background: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.template-card:hover {
  border-color: #4a90e2;
  background: #f8fbff;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.15);
}

.template-preview {
  width: 100%;
  height: 80px;
  border-radius: 6px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 20px;
  font-weight: 600;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.preview-text {
  opacity: 0.95;
}

.template-name {
  font-size: 13px;
  font-weight: 500;
  color: #333;
  text-align: center;
}

/* Custom scrollbar */
.templates-grid::-webkit-scrollbar {
  width: 6px;
}

.templates-grid::-webkit-scrollbar-track {
  background: #f5f5f5;
}

.templates-grid::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 3px;
}

.templates-grid::-webkit-scrollbar-thumb:hover {
  background: #999;
}
</style>
